---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "securden Provider"
subcategory: ""
description: |-
  
---

# Securden Provider

This guide will take you through the process of setting up and using Securden PAM as a provider block in Terraform to securely retrieve account credentials, keys, and secrets using APIs.

## Summary of Steps

1. Adding Securden to Terraform
2. Configuration
3. Fetch Account Data
4. Accessing Account Data
5. Accessing Additional Fields  
6. List of Account Attributes
7. Fetch Multiple Accounts Password

## 1. Adding Securden Provider

```hcl
terraform {
  required_providers {
    securden = {
      source  = "SecurdenDevOps/securden"
      version = "1.0.1"
    }
  }
}

provider "securden" {
  # Configuration options
}
```

## 2. Configuration

### a. Environment Variables Required

#### i. Terraform Variables

```hcl
variable "server_url" {
  type    = string
  default = "<securden-host-url>"
}

variable "authtoken" {
  type    = string
  default = "<securden-api-authentication-token>"
}
```

#### ii. Setting Environment Variables

Define two variables to store Securden API authentication token and Server URL.

- **Windows**  
  ```sh
  set TF_VAR_authtoken=<authtoken>
  set TF_VAR_server_url=<securden-host-url>
  ```

- **Mac/Linux**  
  ```sh
  export TF_VAR_authtoken=<authtoken>
  export TF_VAR_server_url=<securden-host-url>
  ```

### b. Initializing Securden with Provider Block

```hcl
provider "securden" {
  authtoken  = var.authtoken
  server_url = var.server_url
}
```

## 3. Fetching Account with Data Block

To fetch account data from Securden, use a data block. Here’s an example to fetch SSH key credentials:

```hcl
data "securden_keyvalue" "ssh" {
  account_id = "2000000002800"
}
```

> **Note:** You can retrieve specific accounts using `account_id`, `account_name`, or `account_title`. If you use `account_name`, you can also include `account_title` to ensure you don’t retrieve multiple accounts in case there are several accounts with the same name.

## 4. Accessing Account Data

Here are some examples of how to access various credentials from the Securden data block:

- **For Password:** `data.securden_keyvalue.ssh.password`  
- **For PuTTY Private Key:** `data.securden_keyvalue.ssh.putty_private_key`  
- **For PuTTY Passphrase:** `data.securden_keyvalue.ssh.ppk_passphrase`  

## 5. Accessing Additional Fields

If your account type has additional fields in Securden, you can retrieve the value of additional fields by specifying a `key_field` and `key_value`:

```hcl
data "securden_keyvalue" "ssh" {
  account_id = "2000000002800"
  key_field  = "custom_field"
  key_value  = "field_value"
}
```

## 6. Account Attributes

Here is a list of the account attributes that can be retrieved for use in Terraform using the Securden plugin:

- `account_id`
- `account_name`
- `account_title`
- `password`
- `key_value`
- `private_key`
- `putty_private_key`
- `passphrase`
- `ppk_passphrase`
- `address`
- `client_id`
- `client_secret`
- `account_alias`
- `account_file`
- `default_database`
- `sql_server_port`
- `mysql_port`
- `oracle_sid`
- `oracle_service_name`
- `oracle_port`

> **Note:** Data can only be retrieved for the attributes that are available in the account. If an attribute does not exist, Terraform will return a null value when the code is executed.

## 7. Fetching Multiple Accounts Passwords

You have the option to fetch account passwords in bulk from Securden at once using a data block.

### Difference Between `securden_account` and `securden_passwords`
- `securden_account` raises a request each time it is called by the data block for a single account.
- `securden_passwords` retrieves multiple account passwords in a single fetch, reducing overall time consumption.

### Example: Fetching Multiple Account Passwords

```hcl
data "securden_passwords" "passwords" {
  account_ids = ["2000000002800", "2000000002801"]
}
```

To retrieve the password of a specific account:

```hcl
output "password" {
  value = data.securden_passwords.passwords["2000000002800"]
}



<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `authtoken` (String, Sensitive) Securden API Authentication Token
- `server_url` (String) Securden Server URL. Example: https://example.securden.com:5959

### Optional

- `certificate` (String) Securden Server SSL Certificate
